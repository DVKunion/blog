<!DOCTYPE HTML>
<html>

<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><!-- Title -->
    
    <title>CodeQL è¸©å‘æŒ‡å— | DV.K</title>
    <meta charset="utf-8" />
    <meta name="google-site-verification" content="TnnDJaWjq71nvLK8WYmDKSGkcgFEIXQy4y3eLKJROMA" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="keywords" content="DV.K Security Cloud Docker K8s" />
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/extend.css" />
    
    <link rel="bookmark"  type="image/x-icon"  href="https://blog.dvkunion.cn/img/logo.png"/>
    <link rel="shortcut icon" href="https://blog.dvkunion.cn/img/logo.png">
    <noscript><link rel="stylesheet" href="/css/noscript.css" /></noscript>
    <style>
        #banner {
            background-image: url("https://blog.dvkunion.cn/img/bg.jpg");
        }
    </style>
<meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="DV.K" type="application/atom+xml"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


    <body class="is-preload">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="page-wrapper">
                <!-- Nav -->
        <header id="header">
            <h1 id="logo"><a href="/">DV.K</a></h1>
            <nav id="nav">
                <ul>
                    <li><a href="/">ä¸»é¡µ</a></li>
                    <li><a href="https://github.com/DVKunion/">Github</a></li>
                    <li><a href="/archives/">æ–‡ç« </a>
                        <ul>
                            <li><a href="/archives/">å½’æ¡£</a><ul>
                                    <a class="archive-link" href="/archives/2023/12/">2023 - 12</a></li><li><a class="archive-link" href="/archives/2023/11/">2023 - 11</a></li><li><a class="archive-link" href="/archives/2023/06/">2023 - 06</a></li><li><a class="archive-link" href="/archives/2023/05/">2023 - 05</a></li><li><a class="archive-link" href="/archives/2023/02/">2023 - 02</a></li><li><a class="archive-link" href="/archives/2022/03/">2022 - 03</a></li><li><a class="archive-link" href="/archives/2022/01/">2022 - 01</a></li><li><a class="archive-link" href="/archives/2020/06/">2020 - 06</a></li><li><a class="archive-link" href="/archives/2019/07/">2019 - 07</a></li><li><a class="archive-link" href="/archives/2019/06/">2019 - 06</a></li><li><a class="archive-link" href="/archives/2019/03/">2019 - 03</a></li><li><a class="archive-link" href="/archives/2019/02/">2019 - 02</a></li><li><a class="archive-link" href="/archives/2019/01/">2019 - 01</a></li><li><a class="archive-link" href="/archives/2018/12/">2018 - 12</a></li><li><a class="archive-link" href="/archives/2018/11/">2018 - 11</a></li><li><a class="archive-link" href="/archives/2018/10/">2018 - 10</a>
                                </ul></li>
                            <li><a href="/tags/">æ ‡ç­¾</a></li>
                            <li><a href="/categories/">åˆ†ç±»</a></li>
                        </ul>
                    </li>
                    <li><a href="/gallery/">å›¾åº“</a></li>
                    <li><a href="/comments/">ç•™è¨€æ¿</a></li>
                    <li><a href="#" id="link">å¾®ä¿¡å…¬ä¼—å·</a></li>
                </ul>
                <div id="message" style="display: none;float: right;">
                    <img src="https://blog.dvkunion.cn/img/qrcode_for_gh_0bac66228b56_258.jpg" class="lazyload" data-srcset="https://blog.dvkunion.cn/img/qrcode_for_gh_0bac66228b56_258.jpg" srcset="/css/images/overlay.gif" alt="å¾®ä¿¡å…¬ä¼—å·" />
                </div>
            </nav>
        </header>

        <!-- Banner -->
        

        
        <!-- Main -->
        
        <div id="main" class="wrapper style1">
            <div class="container">
                <header class="major">
                    <h2>CodeQL è¸©å‘æŒ‡å—</h2>
                    <p>2022-03-24</p>
                    <span id="/2022/03/24/CodeQL-è¸©å‘æŒ‡å—/" class="leancloud_visitors" data-flag-title="CodeQL è¸©å‘æŒ‡å—">
                        <em class="post-meta-item-text">é˜…è¯»é‡ - </em>
                        <i class="leancloud-visitors-count"></i>
                         <p>æ–‡ç« å…±è®¡ - 2.9k å­— é˜…è¯»éœ€è¦ - 13 åˆ†é’Ÿ</p>
                    </span>
                </header>
                <!-- Content -->
                <section id="content">
                    <div class ="post_page_title_img" style="background-image: url(https://blog.dvkunion.cn/img/1484628225604.jpg);" ></div>
                    <hr>
                    <h1>CodeQL è¸©å‘æŒ‡å— - Java</h1>
<!-- split -->
<p>è®²è§£è¿™ä¸œè¥¿çš„å¤§å¸ˆå‚…ä»¬å¤ªå¤šäº†ï¼Œä¸ç­é—¨å¼„æ–§äº†ï¼Œè¿™é‡Œä»…é’ˆå¯¹ä¸€äº›è¸©è¿‡çš„å‘ç‚¹æä¾›ä¸€äº›è‡ªå·±çš„è§£å†³æ–¹æ¡ˆï¼Œå¸Œæœ›èƒ½å¯¹ä¸€äº›å¸ˆå‚…æä¾›ç‚¹å¸®åŠ©ã€‚</p>
<span id="more"></span>
<h2 id="å‘I-Lombok">å‘I - Lombok</h2>
<h3 id="åœºæ™¯">åœºæ™¯</h3>
<p>åœ¨æ„å»ºä¸€äº›å°å‹cmså’Œè‡ªå·±çš„ä¸€äº›é¡¹ç›®æ—¶ï¼Œçªç„¶å‘ç°æ„å»ºå¥½çš„æ•°æ®åº“å†…æºç æ¯”å®é™…çš„æºç å°‘äº†ä¸€å¤§åŠï¼Œå¯¼è‡´å¾ˆå¤šè§„åˆ™åˆ†æçš„flowç›´æ¥æ–­æ‰äº†ï¼Œä»€ä¹ˆè§„åˆ™æ‰«æç»“æœéƒ½æ²¡æœ‰ã€‚</p>
<h3 id="åŸå› ">åŸå› </h3>
<p>æ„å»ºå¥½çš„æ•°æ®åº“æ–‡ä»¶å¤¹ä¸‹ï¼Œæºç æ˜¯å­˜æ”¾åœ¨src.zipä¸‹çš„ã€‚é€šè¿‡vscodeçš„æ’ä»¶ï¼Œå°†æ•°æ®åº“æ·»åŠ åä¹Ÿå¯ä»¥çœ‹åˆ°æ„å»ºåŠ è½½åçš„æºç ã€‚é€šè¿‡å¯¹æ¯”æºç ï¼Œå‘ç°ä¸¢å¤±çš„javaæ–‡ä»¶éƒ½å­˜åœ¨lombokæ³¨è§£ï¼ˆ@Data/@Sl4j)ã€‚<br>
<img src="https://blog.dvkunion.cn/img/16479334970645.jpg" class="lazyload" data-srcset="https://blog.dvkunion.cn/img/16479334970645.jpg" srcset="/css/images/overlay.gif" alt=""></p>
<p>è¿™é‡Œçš„åŸå› å°±æ˜¯ç”±äºé¡¹ç›®ä½¿ç”¨äº†lombokã€‚æ ¹æ®å®˜æ–¹<a href="https://github.com/github/codeql/issues/8363">Github Issue</a>å¯å¾—çŸ¥ï¼Œlombok ä»£ç åœ¨ç¼–è¯‘æœŸé—´ä½¿ç”¨æ³¨é‡Šå¤„ç†å™¨è½¬æ¢ä¸ºæ­£ç¡®çš„ Java ä»£ç ã€‚è¿™ä¼šå¹²æ‰° CodeQL åˆ†æå™¨ï¼Œè¯¥åˆ†æå™¨ä¼šåœ¨æºä»£ç è½¬æ¢ä¸ºæœ‰æ•ˆçš„ Java ä»£ç ä¹‹å‰â€œæŸ¥çœ‹â€æºä»£ç ï¼Œä»è€Œå¯¼è‡´å®ƒè·³è¿‡æ­¤ç±»æ–‡ä»¶ã€‚</p>
<h3 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h3>
<p>æŒ‰ç…§å®˜æ–¹çš„æ€è·¯ï¼Œè§£å†³æ–¹å¼å°±æ˜¯å°†æ‰€æœ‰æ–‡ä»¶è¿˜åŸä¸ºä¸ä½¿ç”¨lombokçš„æ–¹å¼ã€‚è¿˜åŸçš„æ–¹æ¡ˆä¸»è¦æœ‰ä¸¤ç§ï¼š</p>
<p><strong>1.é€šè¿‡Lombok.jar ç›´æ¥è¿˜åŸæ–‡ä»¶</strong></p>
<p>åœ¨å®˜æ–¹çš„<a href="https://github.com/github/codeql/issues/4984#:~:text=Unfortunately%20Lombok%20does%20not%20work%20with%20the%20CodeQL,the%20source%20files%20before%20running%20CodeQL%20as%20follows%3A">Github Issue</a>æä¾›äº†ä¸€ç§æ–¹å¼ã€‚</p>
<p>ä¸‹è½½é¡¹ç›®å¯¹åº”ç‰ˆæœ¬çš„lombok.jar(æˆ–è€…ä»External Librarieså¯»æ‰¾ä¸‹è½½å¥½çš„ä¾èµ–jaråŒ…)ï¼Œè¿è¡Œï¼š</p>
<p><code>java -jar lombok.jar delombok . -d &quot;delombok-code&quot;</code><br>
è¿™ä¼šå°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ä½¿ç”¨äº†lombokçš„ä»£ç è¿˜åŸä¸ºä¸ä½¿ç”¨çš„çŠ¶æ€ï¼Œå¹¶å­˜æ”¾åœ¨delombok-codeè¿™ä¸ªç›®å½•ä¸‹ã€‚</p>
<p>ä½†æ˜¯åœ¨å®é™…æµ‹è¯•ä¸­ï¼Œè¿™ç§æ–¹å¼ä¸ä¼šå¯¹é¡¹ç›®å†…å…³è”çš„ä»£ç è¿›è¡Œè¿˜åŸï¼Œæ¯”å¦‚è‡ªå·±å®šä¹‰çš„ä¸€äº›TOç±»ï¼Œåœ¨è¿™ç§æ–¹å¼çš„è¿˜åŸä¸‹åªä¼šè¢«è¿˜åŸæˆObjectï¼Œè€Œä¸æ˜¯å®é™…çš„TOå¯¹è±¡ã€‚å¯èƒ½ä¼šå¯¹ä»£ç åˆ†æé€ æˆä¸€å®šçš„å½±å“ã€‚</p>
<p><strong>2. ä½¿ç”¨maven-delombok</strong><br>
è¿™ç§æ–¹å¼çš„å¥½å¤„åœ¨äºå¯ä»¥åœ¨maven buildçš„è¿‡ç¨‹ä¸­æ¥å¯¹lombokè¿›è¡Œè¿˜åŸï¼Œå¯ä»¥å¾ˆå¥½çš„è§£å†³ä¾èµ–å…³ç³»ï¼Œä¸ä¼šå‡ºç°ä¸Šè¿°è¿˜åŸä¸ºæœªå®šä¹‰çš„Objectçš„åœºæ™¯ã€‚</p>
<p>åœ¨pomæ–‡ä»¶å†…å¢åŠ ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">phase</span>&gt;</span>generate-sources<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>delombok<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">encoding</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">addOutputDirectory</span>&gt;</span>false<span class="tag">&lt;/<span class="name">addOutputDirectory</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">sourceDirectory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">sourceDirectory</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">outputDirectory</span>&gt;</span>$&#123;project.basedir&#125;/src/main/lombok<span class="tag">&lt;/<span class="name">outputDirectory</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç”±äºå°†æ‰€æœ‰çš„è¿˜åŸlombokæŒ‡å‘ç›®å½•/src/main/lombokï¼Œæ‰€ä»¥åœ¨mavenç¼–è¯‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›ç¼–è¯‘çš„æ˜¯lombokè¿˜åŸåçš„ç›®å½•ï¼Œè¿™æ ·codeqlæ‰èƒ½å¤Ÿè¯»å–æ•´ä¸ªæœ‰æ•ˆçš„è¿‡ç¨‹ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹sourceDirectory</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sourceDirectory</span>&gt;</span>$&#123;project.basedir&#125;/src/main/lombok</span><br><span class="line">        <span class="tag">&lt;/<span class="name">sourceDirectory</span>&gt;</span></span><br><span class="line">        ......</span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæä¾›ä¸€ä¸ªè„šæœ¬, å¿«é€Ÿæ’å…¥lombok-pluginsï¼Œå°†è„šæœ¬æ”¾ç½®é¡¹ç›®æ ¹ç›®å½•å¹¶è¿è¡Œ<code>python3 delombok.py ./pom.xml </code>å³å¯ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> xml.etree.ElementTree <span class="keyword">as</span> ET</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">delbankline</span>(<span class="params">file</span>):</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        lines = [x <span class="keyword">for</span> x <span class="keyword">in</span> f.readlines() <span class="keyword">if</span> <span class="keyword">not</span> re.search(<span class="string">r&#x27;^\s+$&#x27;</span>, x)]</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> fw:</span><br><span class="line">        fw.writelines(lines)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">delombok</span>(<span class="params">file</span>):</span><br><span class="line">	<span class="keyword">with</span> <span class="built_in">open</span>(file, <span class="string">&#x27;r+&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">		lines = f.readlines()</span><br><span class="line">		f.seek(<span class="number">0</span>)</span><br><span class="line">		f.truncate()</span><br><span class="line">		<span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">			<span class="comment"># f.write(line.replace(&#x27;src/main/java&#x27;, &#x27;src/main/lombok&#x27;))</span></span><br><span class="line">			line = line.replace(<span class="string">&quot;&lt;directory&gt;$&#123;project.basedir&#125;/src/main&lt;/directory&gt;&quot;</span>,</span><br><span class="line">								<span class="string">&quot;&lt;directory&gt;$&#123;project.basedir&#125;/src/main/lombok&lt;/directory&gt;&quot;</span>)</span><br><span class="line">			line = line.replace(<span class="string">&#x27;src/main/java&#x27;</span>, <span class="string">&#x27;src/main/lombok&#x27;</span>)</span><br><span class="line">			f.write(line)</span><br><span class="line"></span><br><span class="line">	tree = ET.ElementTree()</span><br><span class="line">	<span class="comment"># å»æ‰ns0æ ‡ç­¾</span></span><br><span class="line">	XML_NS_NAME = <span class="string">&quot;&quot;</span></span><br><span class="line">	XML_NS_VALUE = <span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span><br><span class="line">	ET.register_namespace(XML_NS_NAME, XML_NS_VALUE)</span><br><span class="line">	tree.parse(file)</span><br><span class="line">	root = tree.getroot()</span><br><span class="line">	pre = (re.split(<span class="string">&#x27;project&#x27;</span>, root.tag))[<span class="number">0</span>]</span><br><span class="line">	<span class="comment"># ç”Ÿæˆå…ƒç´ </span></span><br><span class="line">	sourceDirectory = ET.Element(<span class="string">&quot;sourceDirectory&quot;</span>)</span><br><span class="line">	goal = ET.Element(<span class="string">&quot;goal&quot;</span>)</span><br><span class="line">	phase = ET.Element(<span class="string">&quot;phase&quot;</span>)</span><br><span class="line">	groupId = ET.Element(<span class="string">&quot;groupId&quot;</span>)</span><br><span class="line">	artifactId = ET.Element(<span class="string">&quot;artifactId&quot;</span>)</span><br><span class="line">	version = ET.Element(<span class="string">&quot;version&quot;</span>)</span><br><span class="line">	<span class="comment"># èµ‹å€¼</span></span><br><span class="line">	sourceDirectory.text = <span class="string">&quot;$&#123;project.basedir&#125;/src/main/lombok&quot;</span></span><br><span class="line">	goal.text = <span class="string">&quot;delombok&quot;</span></span><br><span class="line">	phase.text = <span class="string">&quot;generate-sources&quot;</span></span><br><span class="line">	groupId.text = <span class="string">&quot;org.projectlombok&quot;</span></span><br><span class="line">	artifactId.text = <span class="string">&quot;lombok-maven-plugin&quot;</span></span><br><span class="line">	version.text = <span class="string">&quot;1.18.4.0&quot;</span></span><br><span class="line">	<span class="comment"># æ‰“åŒ…</span></span><br><span class="line">	goals = ET.Element(<span class="string">&quot;goals&quot;</span>)</span><br><span class="line">	goals.append(goal)</span><br><span class="line">	addOutputDirectory = ET.Element(<span class="string">&quot;addOutputDirectory&quot;</span>)</span><br><span class="line">	addOutputDirectory.text = <span class="string">&quot;false&quot;</span></span><br><span class="line">	sourceDirectory2 = ET.Element(<span class="string">&quot;sourceDirectory&quot;</span>)</span><br><span class="line">	sourceDirectory2.text = <span class="string">&quot;src/main/java&quot;</span></span><br><span class="line">	outputDirectory = ET.Element(<span class="string">&quot;outputDirectory&quot;</span>)</span><br><span class="line">	outputDirectory.text = <span class="string">&quot;$&#123;project.basedir&#125;/src/main/lombok&quot;</span></span><br><span class="line">	encoding = ET.Element(<span class="string">&quot;encoding&quot;</span>)</span><br><span class="line">	encoding.text = <span class="string">&quot;UTF-8&quot;</span></span><br><span class="line">	configuration = ET.Element(<span class="string">&quot;configuration&quot;</span>)</span><br><span class="line">	configuration.append(encoding)</span><br><span class="line">	configuration.append(addOutputDirectory)</span><br><span class="line">	configuration.append(sourceDirectory2)</span><br><span class="line">	configuration.append(outputDirectory)</span><br><span class="line">	execution = ET.Element(<span class="string">&quot;execution&quot;</span>)</span><br><span class="line">	execution.append(phase)</span><br><span class="line">	execution.append(goals)</span><br><span class="line">	execution.append(configuration)</span><br><span class="line">	executions = ET.Element(<span class="string">&quot;executions&quot;</span>)</span><br><span class="line">	executions.append(execution)</span><br><span class="line">	plugin = ET.Element(<span class="string">&quot;plugin&quot;</span>)</span><br><span class="line">	plugin.append(groupId)</span><br><span class="line">	plugin.append(artifactId)</span><br><span class="line">	plugin.append(version)</span><br><span class="line">	plugin.append(executions)</span><br><span class="line"></span><br><span class="line">	<span class="comment"># å¤šæ¡ä»¶åˆ¤æ–­</span></span><br><span class="line">	build = root.find(pre + <span class="string">&quot;build&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> build <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">		build = ET.Element(<span class="string">&quot;build&quot;</span>)</span><br><span class="line">		root.append(build)</span><br><span class="line">	build.insert(<span class="number">0</span>, sourceDirectory)</span><br><span class="line">	plugins = build.find(pre + <span class="string">&quot;plugins&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> plugins <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">		plugins = ET.Element(<span class="string">&quot;plugins&quot;</span>)</span><br><span class="line">		build.insert(<span class="number">0</span>, plugins)</span><br><span class="line">	plugins.insert(<span class="number">0</span>, plugin)</span><br><span class="line">	<span class="comment"># å†™å…¥</span></span><br><span class="line">	tree.write(file, encoding=<span class="string">&quot;utf-8&quot;</span>, xml_declaration=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">relombok</span>(<span class="params">file</span>):</span><br><span class="line">	<span class="comment">#åˆ é™¤è‡ªå¸¦çš„Lombokæ’ä»¶</span></span><br><span class="line">	tree = ET.ElementTree()</span><br><span class="line">	<span class="comment"># å»æ‰ns0æ ‡ç­¾</span></span><br><span class="line">	XML_NS_NAME = <span class="string">&quot;&quot;</span></span><br><span class="line">	XML_NS_VALUE = <span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span><br><span class="line">	ET.register_namespace(XML_NS_NAME, XML_NS_VALUE)</span><br><span class="line">	tree.parse(file)</span><br><span class="line">	root = tree.getroot()</span><br><span class="line">	pre = (re.split(<span class="string">&#x27;project&#x27;</span>, root.tag))[<span class="number">0</span>]</span><br><span class="line">	build = root.find(pre + <span class="string">&quot;build&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> build <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	plugins = build.find(pre + <span class="string">&quot;plugins&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> plugins <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> <span class="built_in">len</span>(plugins)==<span class="number">0</span>:</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	<span class="keyword">for</span> plugin <span class="keyword">in</span> plugins:</span><br><span class="line">		<span class="keyword">for</span> child <span class="keyword">in</span> plugin:</span><br><span class="line">			<span class="keyword">if</span> child.text == <span class="string">&quot;lombok-maven-plugin&quot;</span>:</span><br><span class="line">				plugins.remove(plugin)</span><br><span class="line">	<span class="comment"># å†™å…¥</span></span><br><span class="line">	tree.write(file, encoding=<span class="string">&quot;utf-8&quot;</span>, xml_declaration=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    file = sys.argv[<span class="number">1</span>]</span><br><span class="line">    delbankline(file)</span><br><span class="line">    relombok(file)</span><br><span class="line">    delombok(file)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;finish!!&quot;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="å‘II-æ‰©å±•æ–‡ä»¶">å‘II - æ‰©å±•æ–‡ä»¶</h2>
<h3 id="åœºæ™¯-2">åœºæ™¯</h3>
<p>åœ¨çœ‹å®˜æ–¹æä¾›çš„qlè§„åˆ™æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªç‰¹æ®Šçš„è§„åˆ™å¼•èµ·äº†æ³¨æ„ï¼š<a href="https://github.com/github/codeql/blob/main/java/ql/src/experimental/Security/CWE/CWE-089/MyBatisMapperXmlSqlInjection.ql">MyBatisMapperXmlSqlInjection.ql</a></p>
<p>ä»–åšçš„äº‹æƒ…æ˜¯æ‰«æMapperé…ç½®Mybatis XMLçš„${}çš„SQLæ³¨å…¥ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬çš„æºä»£ç ä¸­ï¼Œå®Œå…¨æ²¡æœ‰çœ‹åˆ°ç›¸å…³çš„Mybatisçš„Mapper XMLæ–‡ä»¶ã€‚æ‰€ä»¥è§„åˆ™æ‰«æä¸€ç›´æ— æ•ˆã€‚</p>
<h3 id="åŸå› -2">åŸå› </h3>
<p>åŸå› å½’ç»“äºæˆ‘ä»¬æ²¡æœ‰æŠŠå¯¹åº”çš„xmlæ–‡ä»¶åŠ å…¥åˆ°æˆ‘ä»¬çš„æ•°æ®åº“ä¸­ï¼Œåœ¨é»˜è®¤çš„é…ç½®ä¸­ï¼Œcodeqlä»…åŠ è½½äº†å››ç§xmlæ–‡ä»¶ï¼Œåˆ†åˆ«ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">AndroidManifest.xml</span><br><span class="line">pom.xml</span><br><span class="line">struts.xml</span><br><span class="line">web.xml</span><br></pre></td></tr></table></figure>
<h3 id="è§£å†³æ–¹æ¡ˆ-2">è§£å†³æ–¹æ¡ˆ</h3>
<p>ç»“å±€æ–¹æ¡ˆä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ã€‚<br>
<strong>1.æ‹†åˆ†<code>codeql database create</code></strong><br>
è¿™ç§æ–¹å¼æ˜¯åœ¨å®˜æ–¹çš„Github Issue å‘ç°çš„ï¼Œå°†codeql database createæ‹†åˆ†ä¸ºå‡ ä¸ªæ­¥éª¤ï¼Œå¹¶åœ¨ä¸­é—´çš„è¿‡ç¨‹å¢åŠ é…ç½®ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">codeql database init --source-root &lt;YourSourcePath&gt; --language java &lt;YourDBPath&gt;</span><br><span class="line">codeql database trace-command --working-dir=&lt;YourSourcePath&gt; &lt;YourDBPath&gt; &lt;BuildCommand&gt;</span><br><span class="line">codeql database index-files --language properties --include-extension .properties --working-dir=&lt;YourSourcePath&gt; --exclude=target &lt;YourDBPath&gt;</span><br><span class="line">codeql database index-files --language xml --include-extension .xml --working-dir=&lt;YourSourcePath&gt; --exclude=target &lt;YourDBPath&gt;</span><br><span class="line">codeql database finalize &lt;YourDBPath&gt;</span><br></pre></td></tr></table></figure>
<p><strong>2.ä¿®æ”¹<code>pre-finalize</code></strong><br>
è¿™é‡Œå‚è€ƒäº†<a href="https://mp.weixin.qq.com/s/egjA2xFm_ziGHjJ7IxOCbg">æ¥¼å…°å¸ˆå‚…çš„æ–‡ç« </a>å­¦åˆ°äº†ä¸€ç§æ–°çš„æ–¹å¼ã€‚<br>
ä¸Šé¢è¿™ç§æ–¹æ³•åœ¨æ—¥å¸¸çš„ä½¿ç”¨ä¸­å¾ˆéº»çƒ¦ï¼Œæ¯æ¬¡æ„å»ºåˆ†æå‰è¿˜å¾—è¿è¡Œè„šæœ¬æ¥æ„å»ºã€‚å› æ­¤è¿™ç§æ–¹æ³•ä¸æ–¹æ³•1å¯¹æ¯”ï¼Œæå‡äº†å¾ˆå¤§çš„ä¾¿æ·æ€§ã€‚</p>
<p>è¿™ç§æ–¹æ³•åªæä¾›xmlæ–‡ä»¶çš„æ‰©å±•ï¼Œå¦‚æœéœ€è¦æ‰©å±•å…¶ä»–ç±»å‹æ–‡ä»¶ï¼Œè¿˜éœ€è¦è‡ªå·±æ‰‹åŠ¨å¢åŠ ã€‚(å› ä¸º --language å‚æ•°ä¸åŒï¼‰</p>
<p><strong>windows:</strong><br>
åœ¨codeql-cli/java/tools/pre-finalize.cmdæ’å…¥<code>--include &quot;**/resources/**/*.xml&quot; ^ </code><br>
<img src="https://blog.dvkunion.cn/img/16479343916145.jpg" class="lazyload" data-srcset="https://blog.dvkunion.cn/img/16479343916145.jpg" srcset="/css/images/overlay.gif" alt=""></p>
<p><strong>linux:</strong><br>
åœ¨codeql-cli/java/tools/pre-finalize.shæ’å…¥<code>--include &quot;**/resources/**/*.xml&quot;</code><br>
<img src="https://blog.dvkunion.cn/img/16479342964394.jpg" class="lazyload" data-srcset="https://blog.dvkunion.cn/img/16479342964394.jpg" srcset="/css/images/overlay.gif" alt=""></p>
<p><strong>åŠ å…¥propertiesæ‰©å±•ï¼š</strong><br>
linuxä¸ºä¾‹ï¼š<br>
åœ¨codeql-cli/java/tools/pre-finalize.shçš„ç»“å°¾æ‰¾åˆ°ï¼š<code>if [ &quot;$&#123;LGTM_INDEX_PROPERTIES_FILES:-false&#125;&quot; == &quot;true&quot; ]</code><br>
åˆ é™¤æ‰è¿™ä¸ªifåˆ¤æ–­ï¼Œå³å¯é»˜è®¤åŠ è½½propertiesã€‚</p>
<p>æ³¨æ„ï¼Œè¿™ç§æ–¹æ³•éƒ½åŠ å…¥äº†size-limitçš„é™åˆ¶ï¼Œ.xmlé»˜è®¤é™åˆ¶10MBï¼Œ.propertiesé»˜è®¤é™åˆ¶5MBã€‚</p>
<h2 id="å‘III-åˆ†æç¼“æ…¢">å‘III - åˆ†æç¼“æ…¢</h2>
<h3 id="åœºæ™¯-3">åœºæ™¯</h3>
<p>åœ¨ä¸€äº›å·¨å‹é¡¹ç›®ä¸­ï¼Œä¸€æ¬¡æ„å»º+åˆ†æå¯èƒ½éœ€è¦èŠ±è´¹10-15åˆ†é’Ÿï¼Œå¦‚æœåœ¨æ„å»ºçš„è¿‡ç¨‹ä¸­å‘ç°å¿˜è®°åŠ è½½æŸäº›æ–‡ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±è¦å†æ¥ä¸€æ¬¡ï¼Œé‡å¤å‡ æ¬¡ï¼Œä¸€å¤©çš„æ—¶é—´å°±æ— äº†ã€‚</p>
<h3 id="åŸå› -3">åŸå› </h3>
<p>å¤§å‹çš„é¡¹ç›®æ„å»ºé€Ÿåº¦ç¼“æ…¢ï¼Œè§„åˆ™åˆ†æä¹Ÿå¾ˆç¼“æ…¢ã€‚</p>
<h3 id="è§£å†³æ–¹æ¡ˆ-3">è§£å†³æ–¹æ¡ˆ</h3>
<p><strong>ä½¿ç”¨mvnd æ¥ä»£æ›¿mvnæé€Ÿ</strong><br>
å› ä¸ºæˆ‘æµ‹è¯•çš„é¡¹ç›®å¤§éƒ¨åˆ†ä½¿ç”¨mvnç®¡ç†ï¼Œè€Œåœ¨codeqlä¸­ï¼Œmvné»˜è®¤çš„æ„å»ºå‘½ä»¤ä¸ºï¼š<br>
<code>mvn clean package -f &quot;pom.xml&quot; -B -V -e -Dfindbugs.skip -Dcheckstyle.skip -Dpmd.skip=true -Denforcer.skip -Dmaven.javadoc.skip -DskipTests -Dmaven.test.skip.exec -Dlicense.skip=true -Drat.skip=true </code></p>
<p>é¦–å…ˆä¸‹è½½å¹¶å®‰è£…<a href="https://github.com/apache/maven-mvnd">mvnd</a>, å®˜æ–¹çš„æ‰‹å†Œå·²ç»æ¯”è¾ƒæ¸…æ™°ã€‚</p>
<p>ç„¶åä¿®æ”¹codeqlæ„å»ºå‘½ä»¤ï¼Œå¹¶ä½¿ç”¨mvndè¿›è¡Œæ„å»º<br>
<code>codeql database create codeqlDB --language=java --command=&quot;mvnd clean package -f &quot;pom.xml&quot; -B -V -e -Dfindbugs.skip -Dcheckstyle.skip -Dpmd.skip=true -Denforcer.skip -Dmaven.javadoc.skip -DskipTests -Dmaven.test.skip.exec -Dlicense.skip=true -Drat.skip=true</code></p>
<p>å¦‚æœmvndæ²¡æœ‰é…ç½®çš„è¯ï¼Œè¿˜éœ€è¦ä½¿ç”¨<code>-s settings.xml</code>æŒ‡å®šmvnçš„settingé…ç½®æ–‡ä»¶ã€‚</p>
<p>å¤§æ¦‚ä¼˜åŒ–çš„æ—¶é—´åœ¨20-30så·¦å³ï¼Œä¸åŒçš„é¡¹ç›®ä¼˜åŒ–æ•ˆæœä¸åŒã€‚</p>
<p><strong>è§„åˆ™åˆ†æå‚æ•°è°ƒä¼˜</strong><br>
å¯¹äºç»å¸¸éœ€è¦ç”¨åˆ°çš„è§„åˆ™ï¼Œcodeqlæ”¯æŒç”Ÿæˆqloçš„ç¼“å­˜æ–‡ä»¶ï¼Œè¿™æ ·ä¸‹æ¬¡å†åˆ†æå…¶ä»–æ•°æ®åº“æ—¶ï¼Œå°±ä¸éœ€è¦å†æ¬¡compileè€Œæ˜¯ç›´æ¥è¿›å…¥è§„åˆ™åˆ†æäº†ã€‚<br>
<code>codeql query compile --warnings=hide --fast-compilation --dump-qlo</code><br>
å¯¹åº”ç›®å½•ä¸‹ä¼šç”Ÿæˆè§„åˆ™åŒåçš„qloæ–‡ä»¶ã€‚è¿™æ ·åœ¨ä¸‹æ¬¡åˆ†æè¿™ä¸ªqlæ—¶ï¼Œcodeqlä¼šè‡ªåŠ¨æ‰¾åˆ°è¿™ä¸ªqloä½œä¸ºç¼“å­˜ï¼ŒåŠ å¿«äº†compileçš„è¿‡ç¨‹ã€‚</p>
<h2 id="ä¼˜åŒ–I-pythonåº“">ä¼˜åŒ–I - pythonåº“</h2>
<h3 id="åœºæ™¯-4">åœºæ™¯</h3>
<p>åœ¨ç»å†ä¸Šè¿°å‘ç‚¹ä¹‹åï¼Œæˆ‘çš„æ•°æ®åº“æ„å»ºå·²ç»æˆä¸ºäº†ä¸€ä¸ªå¾ˆå¤æ‚çš„è¿‡ç¨‹ã€‚ç»å¸¸éœ€è¦å„ç§è„šæœ¬æ¥è¾…åŠ©ã€‚è„šæœ¬çš„ä»£ç å°±ä¼šå‡ºç°å¾ˆä¸‘é™‹çš„:<code>os.system(&quot;codeql database xxxxxx ......&quot;)</code>, ä»¤äººéš¾ä»¥å¿å—ã€‚</p>
<h3 id="è§£å†³æ–¹æ¡ˆ-4">è§£å†³æ–¹æ¡ˆ</h3>
<p>å¶ç„¶åœ¨Githubå‘ç°äº†ä¸€ä¸ªéå®˜æ–¹çš„<a href="https://github.com/AlexAltea/codeql-python">python-codeqlåº“</a>, å°è£…äº†å¤§é‡å¸¸ç”¨çš„codeqlæ“ä½œã€‚<br>
å®‰è£…ï¼š<br>
<code>pip3 install git+https://github.com/AlexAltea/codeql-python.git</code><br>
ä½¿ç”¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> codeql</span><br><span class="line"></span><br><span class="line"><span class="comment"># Open databases from files or folders</span></span><br><span class="line">db = codeql.Database(<span class="string">&#x27;path/to/db.zip&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Queries return a CSV-like array of arrays</span></span><br><span class="line">results = db.query(<span class="string">&#x27;select &quot;Hello&quot;&#x27;</span>)</span><br><span class="line"><span class="keyword">assert</span>(results[<span class="number">0</span>][<span class="number">1</span>] == <span class="string">&#x27;Hello&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Queries with external libraries are supported as well</span></span><br><span class="line">codeql.set_search_path(<span class="string">&#x27;path/to/codeql&#x27;</span>)</span><br><span class="line">results = db.query(<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    import cpp</span></span><br><span class="line"><span class="string">    from BlockStmt block    </span></span><br><span class="line"><span class="string">    select block</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create temporary databases from inlined sources</span></span><br><span class="line">db = codeql.Database.from_cpp(<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    int main() &#123;</span></span><br><span class="line"><span class="string">        return 1337 + 1337 + 1337;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span>)</span><br><span class="line">results = db.query(<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    import cpp</span></span><br><span class="line"><span class="string">    from Literal literal where</span></span><br><span class="line"><span class="string">        literal.getType() instanceof IntType and</span></span><br><span class="line"><span class="string">        literal.getValue().toInt() = 1337</span></span><br><span class="line"><span class="string">    select literal</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span>)</span><br><span class="line"><span class="keyword">assert</span>(<span class="built_in">len</span>(results[<span class="number">1</span>:]) == <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<h2 id="ä¼˜åŒ–II-éƒ¨åˆ†è§„åˆ™Demo">ä¼˜åŒ–II - éƒ¨åˆ†è§„åˆ™Demo</h2>
<p>æœ‰äº†å‘IIçš„æ”¯æŒï¼Œç°åœ¨å·²ç»å¯ä»¥æ‰«æå¦‚spring bootå†…çš„é…ç½®æ–‡ä»¶äº†ã€‚ä¾‹å¦‚H2-Consoleçš„JNDIæ³¨å…¥ã€‚</p>
<p>åœ¨è¿™ä¸ªè§„åˆ™ä¸­ï¼Œæ£€æµ‹äº†ä¸¤ä¸ªäº‹æƒ…ï¼š</p>
<ol>
<li>æ˜¯å¦å­˜åœ¨com.h2database.h2è¿™ä¸ªjar.</li>
<li>æ˜¯å¦å¼€å¯äº†spring.h2.console.enabled</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">import java</span><br><span class="line">import semmle.code.configfiles.ConfigFiles</span><br><span class="line">import semmle.code.xml.MavenPom</span><br><span class="line"></span><br><span class="line">private class H2databaseDependency extends Dependency &#123;</span><br><span class="line">  H2databaseDependency() &#123;</span><br><span class="line">    this.getAChild(&quot;groupId&quot;).getTextValue() <span class="operator">=</span> &quot;com.h2database&quot; <span class="keyword">and</span></span><br><span class="line">    this.getAChild(&quot;artifactId&quot;).getTextValue() <span class="operator">=</span> &quot;h2&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class ApplicationProperties extends ConfigPair &#123;</span><br><span class="line">  ApplicationProperties() &#123; this.getFile().getBaseName() <span class="operator">=</span> &quot;application.properties&quot; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> H2databaseDependency dependency, ApplicationProperties ap</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">  ap.getFile()</span><br><span class="line">      .getParentContainer()</span><br><span class="line">      .getAbsolutePath()</span><br><span class="line">      .<span class="keyword">matches</span>(dependency.getFile().getParentContainer().getAbsolutePath() <span class="operator">+</span> &quot;%&quot;) <span class="keyword">and</span></span><br><span class="line">  <span class="keyword">exists</span>( <span class="operator">|</span></span><br><span class="line">    ap.getNameElement().getName() <span class="operator">=</span> &quot;spring.h2.console.enabled&quot; <span class="keyword">and</span></span><br><span class="line">    ap.getValueElement().getValue() <span class="operator">=</span> &quot;true&quot;</span><br><span class="line">  ) <span class="keyword">and</span></span><br><span class="line">  <span class="keyword">not</span> ap.getFile().getAbsolutePath().<span class="keyword">matches</span>(&quot;%test/resources%&quot;)</span><br><span class="line"><span class="keyword">select</span> ap, &quot;è¯¥é…ç½®å­˜åœ¨H2 Database JNDIæ³¨å…¥æ¼æ´&quot;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œåªæ˜¯æŠ›ç –å¼•ç‰ï¼Œæœ‰äº†é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å¿«é€Ÿçš„å¯¹æ¯”SCAï¼Œæ¥æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº†å­˜åœ¨æ¼æ´çš„ä¸‰æ–¹jaråŒ…ã€‚</p>
<h2 id="ç»“å°¾">ç»“å°¾</h2>
<p>æš‚æ—¶æƒ³åˆ°çš„å°±è¿™äº›ï¼Œè¿˜æœ‰ä¸€äº›ä»ç½‘ç»œä¸Šå­¦åˆ°çš„ä¸€äº›å°ä¸œè¥¿å°±ä¸ä¸¢äººç°çœ¼äº†...å¦‚æœæœ‰é”™è¯¯æˆ–å…¶ä»–çš„ä¸€äº›å°tipsï¼Œæ³æ±‚å„ä½å¸ˆå‚…æŒ‡ç‚¹ä¸€äºŒğŸ™‡ã€‚</p>
<h4 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h4>
<blockquote>
<p>1.Github Issue : <a href="https://github.com/github/codeql/issues/8363">https://github.com/github/codeql/issues/8363</a><br>
2.Github Issue : <a href="https://github.com/github/codeql/issues/4984#:~:text=Unfortunately%20Lombok%20does%20not%20work%20with%20the%20CodeQL,the%20source%20files%20before%20running%20CodeQL%20as%20follows%3A">https://github.com/github/codeql/issues/4984#:~:text=Unfortunately Lombok does not work with the CodeQL,the source files before running CodeQL as follows%3A</a><br>
3.MyBatisMapperXmlSqlInjection.ql : <a href="https://github.com/github/codeql/blob/main/java/ql/src/experimental/Security/CWE/CWE-089/MyBatisMapperXmlSqlInjection.ql">https://github.com/github/codeql/blob/main/java/ql/src/experimental/Security/CWE/CWE-089/MyBatisMapperXmlSqlInjection.ql</a><br>
4.æ¥¼å…°å¸ˆå‚…çš„æ–‡ç«  : <a href="https://mp.weixin.qq.com/s/egjA2xFm_ziGHjJ7IxOCbg">https://mp.weixin.qq.com/s/egjA2xFm_ziGHjJ7IxOCbg</a><br>
7.mvnd : <a href="https://github.com/apache/maven-mvnd">https://github.com/apache/maven-mvnd</a><br>
8.python-codeqlåº“ : <a href="https://github.com/AlexAltea/codeql-python">https://github.com/AlexAltea/codeql-python</a></p>
</blockquote>

                </section>
            </div>
        </div>
        
            <!-- Main -->
    <link rel="stylesheet" href="/css/valine.css" />
    <div class="container">
        <h3 class="board">â˜¡ ç•™è¨€æ¿ â˜¡</h3>
        <div id="vcomment">
        </div>
    </div>
    <style>
        #vcomment{
            padding: 1pc;
        }
    </style>
    </div>
    <footer id="footer">
        
        <!--  copyright  -->
        <ul class="copyright">
                <li>æ€»å­—æ•°: <i>77.7k</i></li>
                <li>è®¿é—®æ€»é‡: <span id="/" class="leancloud_visitors" data-flag-title="">
                        <i class="leancloud-visitors-count">0</i>
                </span></li>
        </ul>
        <ul class="copyright">
            <li>&copy;2018-2023 DVK</li><li>Powered by Hexo</li><li>Design: DVK</li>
        </ul>
        
        <ul class="copyright">
                <img style="height: 17px;width: 17px;" src="https://image.3001.net/images/20210606/16229429757102.png" class="lazyload" data-srcset="https://image.3001.net/images/20210606/16229429757102.png" srcset="/css/images/overlay.gif">
                <liICP>é²ICPå¤‡2021028491å·</liICP>
        </ul>
        
        
        <!--  script  -->
        <script src="/js/Valine.min.js"></script>
        <script>
                new Valine({
                        el:'#vcomment',
                        appId: 'jEB3oMGUgUvE5Qc3pSwDO1Pg-gzGzoHsz',
                        appKey: 'WgBXad9R6JRSoxTMohDelbFs',
                        visitor: true, // é˜…è¯»é‡ç»Ÿè®¡
                        recordIP: true,
                        tagMeta: ["Master", "Friends", "Anonymous"],
                        master: ["f21bae5bf498b089b545f6f0a986e224"],
                        friends: ["124ee6157335edb1a9b8c9d635ccbb27"],
                        // è®¾ç½®Bilibiliè¡¨æƒ…åŒ…åœ°å€
                        emojiCDN: '//i0.hdslb.com/bfs/emote/',
                        // è¡¨æƒ…titleå’Œå›¾ç‰‡æ˜ å°„
                        emojiMaps: {"2020":"dc709fac0d361370bcf0d36d32adb97df7c95824.png","tv_ç™½çœ¼":"c1d59f439e379ee50eef488bcb5e5378e5044ea4.png","tv_doge":"6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png","tv_åç¬‘":"1f0b87f731a671079842116e0991c91c2c88645a.png","tv_éš¾è¿‡":"87f46748d3f142ebc6586ff58860d0e2fc8263ba.png","tv_ç”Ÿæ°”":"26702dcafdab5e8225b43ffd23c94ac1ff932654.png","tv_å§”å±ˆ":"d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png","tv_æ–œçœ¼ç¬‘":"911f987aa8bc1bee12d52aafe62bc41ef4474e6c.png","tv_å‘†":"fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png","tv_å‘æ€’":"34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png","tv_æƒŠå“":"0d15c7e2ee58e935adc6a7193ee042388adc22af.png","tv_å‘•å":"9f996894a39e282ccf5e66856af49483f81870f3.png","tv_æ€è€ƒ":"90cf159733e558137ed20aa04d09964436f618a1.png","tv_å¾®ç¬‘":"70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png","tv_ç–‘é—®":"0793d949b18d7be716078349c202c15ff166f314.png","tv_å¤§å“­":"23269aeb35f99daee28dda129676f6e9ea87934f.png","tv_é¼“æŒ":"1d21793f96ef4e6f48b23e53e3b9e42da833a0f6.png","tv_æŠ é¼»":"c666f55e88d471e51bbd9fab9bb308110824a6eb.png","tv_äº²äº²":"a8111ad55953ef5e3be3327ef94eb4a39d535d06.png","tv_è°ƒçš®":"b9c41de8e82dd7a8515ae5e3cb63e898bf245186.png","tv_ç¬‘å“­":"1abc628f6d4f4caf9d0e7800878f4697abbc8273.png","tv_æ™•":"5443c22b4d07fb1907ccc610c8e6db254f2461b7.png","tv_ç‚¹èµ":"f85c354995bd99e28fc76c869bfe42ba6438eff4.png","tv_å®³ç¾":"a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png","tv_ç¡ç€":"8b196675b53af58264f383c50ad0945048290b33.png","tv_è‰²":"61822c7e9aae5da76475e7892534545336b23a6f.png","tv_åè¡€":"09dd16a7aa59b77baa1155d47484409624470c77.png","tv_æ— å¥ˆ":"ea8ed89ee9878f2fece2dda0ea8a5dbfe21b5751.png","tv_å†è§":"180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png","tv_æµæ±—":"cead1c351ab8d79e9f369605beb90148db0fbed3.png","tv_å·ç¬‘":"bb690d4107620f1c15cff29509db529a73aee261.png","tv_æŠ“ç‹‚":"fe31c08edad661d63762b04e17b8d5ae3c71a757.png","tv_é»‘äººé—®å·":"45821a01f51bc867da9edbaa2e070410819a95b2.png","tv_å›°":"241ee304e44c0af029adceb294399391e4737ef2.png","tv_æ‰“è„¸":"56ab10b624063e966bfcb76ea5dc4794d87dfd47.png","tv_é—­å˜´":"c9e990da7f6e93975e25fd8b70e2e290aa4086ef.png","tv_é„™è§†":"6e72339f346a692a495b123174b49e4e8e781303.png","tv_è…¼è…†":"89712c0d4af73e67f89e35cbc518420380a7f6f4.png","tv_é¦‹":"fc7e829b845c43c623c8b490ee3602b7f0e76a31.png","tv_å¯çˆ±":"9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png","tv_å‘è´¢":"34db290afd2963723c6eb3c4560667db7253a21a.png","tv_ç”Ÿç—…":"8b0ec90e6b86771092a498c54f09fc94621c1900.png","tv_æµé¼»è¡€":"c32d39db2737f89b904ca32700d140a9241b0767.png","tv_å°´å°¬":"7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png","tv_å¤§ä½¬":"093c1e2c490161aca397afc45573c877cdead616.png","tv_æµæ³ª":"7e71cde7858f0cd50d74b0264aa26db612a8a167.png","tv_å†·æ¼ ":"b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png","tv_çš±çœ‰":"72ccad6679fea0d14cce648b4d818e09b8ffea2d.png","tv_é¬¼è„¸":"0ffbbddf8a94d124ca2f54b360bbc04feb6bbfea.png","tv_è°ƒä¾ƒ":"4bc022533ef31544ca0d72c12c808cf4a1cce3e3.png","tv_ç›®çªå£å‘†":"0b8cb81a68de5d5365212c99375e7ace3e7891b7.png","2233å¨˜_å¤§ç¬‘":"16b8794be990cefa6caeba4d901b934a227ee3b8.png","2233å¨˜_ç–‘é—®":"0b41f509351958dbb63d472fec0132d1bd03bd14.png","2233å¨˜_åƒæƒŠ":"d1628c43d35b1530c0504a643ff80b6189fa0a43.png","2233å¨˜_æ±—":"247cd9df8cdf84b18368c21e3b2dd374e84c0927.png","2233å¨˜_å¤§å“­":"476a2a60f6e337b8c0697a592e0aa82781f6b33b.png","2233å¨˜_å›°æƒ‘":"714eeb4eae0d0933b4ff08b7df788b1982f6b940.png","2233å¨˜_è€¶":"d7178e258a0efc969b65ccc2b1322fb235f5dff4.png","2233å¨˜_æ€’":"f31953119c51b9748016440ac0b632f779929b37.png","2233å¨˜_å–èŒ":"ea893aa25355de95ab4f03c2dad3f0c58d0c159e.png","2233å¨˜_å§”å±ˆ":"d9d0bf9d358af8d5761093ec66d4e3f60d963a63.png","2233å¨˜_éƒé—·":"485203fe7100f2c8fc40b2800a18fe20b35f2f1a.png","2233å¨˜_ç¬¬ä¸€":"3754ee6e5985bd0bd7dfb668981f2a8733398ebd.png","2233å¨˜_å–æ°´":"695bf5429472049b52c1e0de586f8a2511195a23.png","2233å¨˜_åé­‚":"e999af499edf38a91ca68b1a9d2f97042c1d6734.png","2233å¨˜_æ— è¨€":"fdb5870f32cfaf7949e0f88a13f6feba4a48b719.png","çƒ­è¯ç³»åˆ—_å¢åŠ ":"142409b595982b8210b2958f3d340f3b47942645.png","çƒ­è¯ç³»åˆ—_æ³ªç›®":"bba3703ab90b7d16fe9dbcb85ed949db687f8331.png","çƒ­è¯ç³»åˆ—_ä¿æŠ¤":"55f8f6445ca7c3170cdfc5b16036abf639ce9b57.png","çƒ­è¯ç³»åˆ—_å®³æ€•":"d77e2de26da143249f0c0ad7a608c27152c985bf.png","çƒ­è¯ç³»åˆ—_çˆ±äº†çˆ±äº†":"2a165b555ba20391316366c664ed7891883dc5aa.png","çƒ­è¯ç³»åˆ—_é—®å·":"c1d1e76c12180adc8558f47006fe0e7ded4154bb.png","çƒ­è¯ç³»åˆ—_å¹çˆ†":"b528220f9c37256ed6a37f05bf118e44b08b81e5.png","çƒ­è¯ç³»åˆ—_ä¸‰è¿":"21f15fe11b7a84d2f2121c16dec50a4e4556f865.png","çƒ­è¯ç³»åˆ—_å¯ä»¥":"e08543c71202b36c590094417fcfbb80c3506cd8.png","çƒ­è¯ç³»åˆ—_æ‰“å¡":"a9cf77c78e1b9b40aa3ed4862402fba008ee2f51.png","çƒ­è¯ç³»åˆ—_å¦™å•Š":"0e98299d7decf5eaffad854977946075c3e91cb8.png","çƒ­è¯ç³»åˆ—_è¿™æ¬¡ä¸€å®š":"a01ca28923daa7cc896c42f27deb4914e20dd572.png","çƒ­è¯ç³»åˆ—_AWSL":"c37f88cf799f9badf9d84b7671dc3dd98c0fc0c2.png","çƒ­è¯ç³»åˆ—_é€’è¯ç­’":"98e6950e39fbb4dd1c576042063ca632074070ba.png","çƒ­è¯ç³»åˆ—_ä½ ç»†å“":"535e00658e7e47966f154d3a167fa2365ebc4321.png","çƒ­è¯ç³»åˆ—_å’•å’•":"d8065c2e7ce48c929317a94553499a46fecc262a.png","çƒ­è¯ç³»åˆ—_æ ‡å‡†ç»“å±€":"3de98174b510cf7dc5fd1bd08c5d881065e79137.png","çƒ­è¯ç³»åˆ—_å±":"5cc6c3357c4df544dd8de9d5c5c0cec97c7c9a56.png","çƒ­è¯ç³»åˆ—_å¼ ä¸‰":"255a938f39cea625032b6650036b31aa26c50a3c.png","çƒ­è¯ç³»åˆ—_å®³":"cbe798a194612958537c5282fcca7c3bcd2aa15c.png","çƒ­è¯ç³»åˆ—_æˆ‘è£‚å¼€äº†":"29bd57ec4e8952880fea6c9e47aee924e91f10c4.png","çƒ­è¯ç³»åˆ—_æœ‰å†…å‘³äº†":"7ca61680a905b5b6e2e335c630e725b648b03b4d.png","çƒ­è¯ç³»åˆ—_çŒ›ç”·å¿…çœ‹":"c97064450528a0e45c7e7c365a15fbb13fd61d8c.png","çƒ­è¯ç³»åˆ—_å¥¥åŠ›ç»™":"c9b8683827ec6c00fea5327c9bec14f581cef2aa.png","çƒ­è¯ç³»åˆ—_æˆ‘å“­äº†":"9e0b3877d649aaf6538fbdd3f937e240a9d808e4.png","çƒ­è¯ç³»åˆ—_é«˜äº§":"9db817cba4a7f4a42398f3b2ec7c0a8e0c247c42.png","çƒ­è¯ç³»åˆ—_æˆ‘é…¸äº†":"a8cbf3f6b8cd9377eeb15b9172f3cd683b2e4650.png","çƒ­è¯ç³»åˆ—_çœŸé¦™":"e68497c775feaac1c3b1a6cd63a50cfb11b767c4.png","çƒ­è¯ç³»åˆ—_æˆ‘å…¨éƒ½è¦":"d424d1ad8d14c1c9b8367842bc68c658b9229bc1.png","çƒ­è¯ç³»åˆ—_ç¥ä»™UP":"a49e0d0db1e7d35a0f7411be13208951ab448f03.png","çƒ­è¯ç³»åˆ—_ä½ å¸æœ‰äº†":"84820c2b147a8ca02f3c4006b63f76c6313cbfa0.png","çƒ­è¯ç³»åˆ—_ä¸æ„§æ˜¯ä½ ":"9ff2e356797c57ee3b1675ade0883d2d2247be9b.png","çƒ­è¯ç³»åˆ—_é”¤":"35668cc12ae25b9545420e4a85bf21a0bfc03e5d.png","çƒ­è¯ç³»åˆ—_ç§€":"50782fbf5d9b7f48f9467b5c53932981e321eedc.png","çƒ­è¯ç³»åˆ—_çˆ·å…³æ›´":"faad40c56447f1f8abcb4045c17ce159d113d1fd.png","çƒ­è¯ç³»åˆ—_æœ‰ç”Ÿä¹‹å¹´":"f41fdafe2d0fbb8e8bc1598d2cf37e355560103a.png","çƒ­è¯ç³»åˆ—_é•‡ç«™ä¹‹å®":"24e7a6a6e6383c987215fb905e3ee070aca259b5.png","çƒ­è¯ç³»åˆ—_æˆ‘å¤ªç”·äº†":"a523f3e4c63e4db1232365765d0ec452f83be97e.png","çƒ­è¯ç³»åˆ—_å®Œç»“æ’’èŠ±":"ea9db62ff5bca8e069cd70c4233353a802835422.png","çƒ­è¯ç³»åˆ—_å¤§å¸ˆçƒ":"f30089248dd137c568edabcb07cf67e0f6e98cf3.png","çƒ­è¯ç³»åˆ—_çŸ¥è¯†ç›²åŒº":"ccc94600b321a28116081e49ecedaa4ee8728312.png","çƒ­è¯ç³»åˆ—_â€œç‹¼ç«â€":"33ccd3617bfa89e9d1498b13b7542b63f163e5de.png","åŠ æ²¹æ­¦æ±‰":"eb966aaa5b690d3f9308a9f936f5b5a72a7f956b.png","å£ç½©":"3ad2f66b151496d2a5fb0a8ea75f32265d778dd3.png","é¸¡è…¿":"c7860392815d345fa69c4f00ef18d67dccfbd574.png","å¾®ç¬‘":"685612eadc33f6bc233776c6241813385844f182.png","ç¬‘":"81edf17314cea3b48674312b4364df44d5c01f17.png","å‘²ç‰™":"b5a5898491944a4268360f2e7a84623149672eb6.png","OK":"4683fd9ffc925fa6423110979d7dcac5eda297f4.png","æ˜Ÿæ˜Ÿçœ¼":"63c9d1a31c0da745b61cdb35e0ecb28635675db2.png","å“¦å‘¼":"362bded07ea5434886271d23fa25f5d85d8af06c.png","å«Œå¼ƒ":"de4c0783aaa60ec03de0a2b90858927bfad7154b.png","å–œæ¬¢":"8a10a4d73a89f665feff3d46ca56e83dc68f9eb8.png","é…¸äº†":"92b1c8cbceea3ae0e8e32253ea414783e8ba7806.png","å¤§å“­":"2caafee2e5db4db72104650d87810cc2c123fc86.png","å®³ç¾":"9d2ec4e1fbd6cb1b4d12d2bbbdd124ccb83ddfda.png","æ— è¯­":"44667b7d9349957e903b1b62cb91fb9b13720f04.png","ç–‘æƒ‘":"b7840db4b1f9f4726b7cb23c0972720c1698d661.png","è°ƒçš®":"8290b7308325e3179d2154327c85640af1528617.png","å–œæè€Œæ³£":"485a7e0c01c2d70707daae53bee4a9e2e31ef1ed.png","å¥¸ç¬‘":"bb84906573472f0a84cebad1e9000eb6164a6f5a.png","å·ç¬‘":"6c49d226e76c42cd8002abc47b3112bc5a92f66a.png","å¤§ç¬‘":"ca94ad1c7e6dac895eb5b33b7836b634c614d1c0.png","é˜´é™©":"ba8d5f8e7d136d59aab52c40fd3b8a43419eb03c.png","æ‚è„¸":"6921bb43f0c634870b92f4a8ad41dada94a5296d.png","å›§":"12e41d357a9807cc80ef1e1ed258127fcc791424.png","å‘†":"33ad6000d9f9f168a0976bc60937786f239e5d8c.png","æŠ é¼»":"cb89184c97e3f6d50acfd7961c313ce50360d70f.png","æƒŠå–œ":"0afecaf3a3499479af946f29749e1a6c285b6f65.png","æƒŠè®¶":"f8e9a59cad52ae1a19622805696a35f0a0d853f3.png","ç¬‘å“­":"c3043ba94babf824dea03ce500d0e73763bf4f40.png","å¦™å•Š":"b4cb77159d58614a9b787b91b1cd22a81f383535.png","doge":"bba7c12aa51fed0199c241465560dfc2714c593e.png","æ»‘ç¨½":"d15121545a99ac46774f1f4465b895fe2d1411c3.png","åƒç“œ":"4191ce3c44c2b3df8fd97c33f85d3ab15f4f3c84.png","æ‰“call":"431432c43da3ee5aab5b0e4f8931953e649e9975.png","ç‚¹èµ":"1a67265993913f4c35d15a6028a30724e83e7d35.png","é¼“æŒ":"895d1fc616b4b6c830cf96012880818c0e1de00d.png","å°´å°¬":"cb321684ed5ce6eacdc2699092ab8fe7679e4fda.png","å†·":"cb0ebbd0668640f07ebfc0e03f7a18a8cd00b4ed.png","çµé­‚å‡ºçª":"43d3db7d97343c01b47e22cfabeca84b4251f35a.png","å§”å±ˆ":"d2f26cbdd6c96960320af03f5514c5b524990840.png","å‚²å¨‡":"010540d0f61220a0db4922e4a679a1d8eca94f4e.png","ç–¼":"905fd9a99ec316e353b9bd4ecd49a5f0a301eabf.png","å“":"9c10c5ebc7bef27ec641b8a1877674e0c65fea5d.png","ç”Ÿç—…":"0f25ce04ae1d7baf98650986454c634f6612cb76.png","å":"06946bfe71ac48a6078a0b662181bb5cad09decc.png","å˜˜å£°":"e64af664d20716e090f10411496998095f62f844.png","æ‚çœ¼":"c5c6d6982e1e53e478daae554b239f2b227b172b.png","æ€è€ƒ":"cfa9b7e89e4bfe04bbcd34ccb1b0df37f4fa905c.png","å†è§":"fc510306bae26c9aec7e287cdf201ded27b065b9.png","ç¿»ç™½çœ¼":"eba54707c7168925b18f6f8b1f48d532fe08c2b1.png","å“ˆæ¬ ":"888d877729cbec444ddbd1cf4c9af155a7a06086.png","å¥‹æ–—":"bb2060c15dba7d3fd731c35079d1617f1afe3376.png","å¢¨é•œ":"3a03aebfc06339d86a68c2d893303b46f4b85771.png","æ’‡å˜´":"531863568e5668c5ac181d395508a0eeb1f0cda4.png","éš¾è¿‡":"a651db36701610aa70a781fa98c07c9789b11543.png","æŠ“ç‹‚":"4c87afff88c22439c45b79e9d2035d21d5622eba.png","ç”Ÿæ°”":"3195714219c4b582a4fb02033dd1519913d0246d.png","å¹²æ¯":"8da12d5f55a2c7e9778dcc05b40571979fe208e6.png","çˆ±å¿ƒ":"ed04066ea7124106d17ffcaf75600700e5442f5c.png","é”¦é²¤":"643d6c19c8164ffd89e3e9cdf093cf5d773d979c.png","èƒœåˆ©":"b49fa9f4b1e7c3477918153b82c60b114d87347c.png","åŠ æ²¹":"c7aaeacb21e107292d3bb053e5abde4a4459ed30.png","ä¿ä½‘":"fafe8d3de0dc139ebe995491d2dac458a865fb30.png","æŠ±æ‹³":"89516218158dbea18ab78e8873060bf95d33bbbe.png","å“æŒ‡":"1b5c53cf14336903e1d2ae3527ca380a1256a077.png","æ”¯æŒ":"3c210366a5585706c09d4c686a9d942b39feeb50.png","æ‹¥æŠ±":"41780a4254750cdaaccb20735730a36044e98ef3.png","æ€ªæˆ‘å’¯":"07cc6077f7f7d75b8d2c722dd9d9828a9fb9e46d.png","è·ªäº†":"f2b3aee7e521de7799d4e3aa379b01be032698ac.png","é»‘æ´":"e90ec4c799010f25391179118ccd9f66b3b279ba.png","è€é¼ ":"8e6fb491eb1bb0d5862e7ec8ccf9a3da12b6c155.png","ç¦åˆ°äº†":"5de5373d354c373cf1617b6b836f3a8d53c5a655.png"}
                })

        </script>
        <script src="/js/jquery.min.js"></script>
        <script src="/js/jquery.scrolly.min.js"></script>
        <script src="/js/jquery.dropotron.min.js"></script>
        <script src="/js/jquery.scrollex.min.js"></script>
        <script src="/js/browser.min.js"></script>
        <script src="/js/breakpoints.min.js"></script>
        <script src="/js/util.js"></script>
        <script src="/js/main.js"></script>
        <script src="/js/lazyload.js"></script>
        
        <script type="text/javascript" src="/js/mouse.js"></script>
</footer><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>


</html>
